<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>CodeQuest - Learn. Play. Conquer the Web.</title>
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚ö°</text></svg>"
    />

    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="animations.css" />
    <link rel="stylesheet" href="index-styles.css" />
    <link rel="stylesheet" href="modal-animations.css" />
    <link rel="stylesheet" href="ai-assistant.css" />

    <!-- Appwrite SDK -->
    <script src="https://cdn.jsdelivr.net/npm/appwrite@13.0.1"></script>

    <script src="main-optimized.js" defer></script>
    <script src="index.js" defer></script>
  </head>

  <body>
    <div class="bg-animation"></div>

    <!-- Floating Background Shapes -->
    <div class="floating-shape"></div>
    <div class="floating-shape"></div>
    <div class="floating-shape"></div>

    <!-- Navigation -->

    <nav id="navbar">
      <div class="nav-container">
        <a href="index.html" class="logo">‚ö°CodeQuest</a>

        <div class="hamburger" id="hamburger">
          <span></span>

          <span></span>

          <span></span>
        </div>

        <div class="nav-links" id="navLinks">
          <a href="index.html" class="nav-link active">Home</a>

          <a href="learn.html" class="nav-link">Learn</a>

          <a href="editor.html" class="nav-link">Code Editor</a>

          <a href="challenges.html" class="nav-link">Challenges</a>

          <a href="games.html" class="nav-link">Games</a>

          <a href="leaderboard.html" class="nav-link">Leaderboard</a>

          <a href="about.html" class="nav-link">About</a>

          <span id="authButtons">
            <button class="btn btn-secondary" onclick="showLogin()">
              Login
            </button>

            <button class="btn btn-primary" onclick="showSignup()">
              Sign Up
            </button>
          </span>

          <span id="userMenu" style="display: none">
            <span class="nav-link" id="userGreeting">Welcome!</span>

            <a href="dashboard.html" class="btn btn-secondary">Dashboard</a>

            <button class="btn btn-danger" onclick="logout()">Logout</button>
          </span>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->

    <section class="hero">
      <div class="hero-content">
        <div class="hero-left">
          <h1 class="hero-title">Learn. Play.<br />Conquer the Web.</h1>

          <p class="hero-subtitle">
            Master HTML, CSS & JavaScript through gamified challenges and
            real-time coding battles.
          </p>

          <div class="hero-features">
            <div class="feature-badge">üéÆ Gamified</div>

            <div class="feature-badge">‚ö° Interactive</div>

            <div class="feature-badge">üèÜ Competitive</div>

            <div class="feature-badge">üìö Comprehensive</div>
          </div>

          <div class="hero-actions">
            <button class="btn btn-primary" onclick="showSignup()">
              Start Free Trial
            </button>

            <a href="learn.html" class="btn btn-secondary">Explore Courses</a>
          </div>
        </div>

        <div class="hero-right">
          <div class="code-preview-window">
            <div class="window-header">
              <div class="window-controls">
                <span class="control red"></span>

                <span class="control yellow"></span>

                <span class="control green"></span>
              </div>

              <div class="window-title">Live Preview</div>
            </div>

            <div class="code-preview-content">
              <pre><code class="language-javascript"><span class="keyword">function</span> <span class="function">startLearning</span>() {

  <span class="keyword">const</span> <span class="variable">skills</span> = [<span class="string">'HTML'</span>, <span class="string">'CSS'</span>, <span class="string">'JavaScript'</span>];

  <span class="keyword">const</span> <span class="variable">future</span> = <span class="string">'Bright'</span>;

  
  
  <span class="keyword">return</span> <span class="variable">skills</span>.<span class="method">map</span>(<span class="variable">skill</span> => 

    <span class="template">`Master ${skill} with CodeQuest!`</span>

  );

}</code></pre>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Enhanced Statistics Section -->
    <section class="statistics-section">
      <div class="container">
        <div class="stats-header">
          <h2 class="stats-title">Our Impact in Numbers</h2>
          <p class="stats-subtitle">
            Join thousands of developers who have transformed their skills with
            CodeQuest
          </p>
        </div>

        <div class="stats-grid">
          <div class="stat-card" data-aos="fade-up" data-aos-delay="100">
            <div class="stat-icon">üë•</div>
            <div class="stat-content">
              <span class="stat-number" id="activeLearners">Loading...</span>
              <span class="stat-label">Active Learners</span>
              <div class="stat-progress">
                <div class="progress-bar" style="width: 85%"></div>
              </div>
            </div>
          </div>

          <div class="stat-card" data-aos="fade-up" data-aos-delay="200">
            <div class="stat-icon">üìö</div>
            <div class="stat-content">
              <span class="stat-number" id="totalLessons">Loading...</span>
              <span class="stat-label">Interactive Lessons</span>
              <div class="stat-progress">
                <div class="progress-bar" style="width: 92%"></div>
              </div>
            </div>
          </div>

          <div class="stat-card" data-aos="fade-up" data-aos-delay="300">
            <div class="stat-icon">üéØ</div>
            <div class="stat-content">
              <span class="stat-number" id="totalChallenges">Loading...</span>
              <span class="stat-label">Coding Challenges</span>
              <div class="stat-progress">
                <div class="progress-bar" style="width: 78%"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="stats-highlight">
          <div class="highlight-content"></div>
        </div>
      </div>
    </section>

    <!-- Features Section -->

    <section class="features-section">
      <div class="container">
        <h2 class="section-title">Why Choose CodeQuest?</h2>

        <p class="section-subtitle">
          Everything you need to become a web development expert
        </p>

        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon">üíª</div>

            <h3 class="feature-title">Live Code Editor</h3>

            <p class="feature-description">
              Write and test code instantly with our powerful browser-based
              editor. No setup required!
            </p>
          </div>

          <div class="feature-card">
            <div class="feature-icon">üéÆ</div>

            <h3 class="feature-title">Gamified Learning</h3>

            <p class="feature-description">
              Earn XP, unlock achievements, and compete with friends as you
              master web development.
            </p>
          </div>

          <div class="feature-card">
            <div class="feature-icon">üéØ</div>

            <h3 class="feature-title">Interactive Challenges</h3>

            <p class="feature-description">
              Solve real-world problems with instant feedback and guided
              solutions.
            </p>
          </div>

          <div class="feature-card">
            <div class="feature-icon">üìä</div>

            <h3 class="feature-title">Progress Tracking</h3>

            <p class="feature-description">
              Monitor your learning journey with detailed analytics and
              milestone tracking.
            </p>
          </div>

          <div class="feature-card">
            <div class="feature-icon">ü§ñ</div>

            <h3 class="feature-title">AI-Powered Hints</h3>

            <p class="feature-description">
              Get smart suggestions and personalized learning paths based on
              your progress.
            </p>
          </div>

          <div class="feature-card">
            <div class="feature-icon">üèÜ</div>

            <h3 class="feature-title">Certificates</h3>

            <p class="feature-description">
              Earn verified certificates to showcase your skills to employers.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Learning Paths Preview -->

    <section class="learning-paths">
      <div class="container">
        <h2 class="section-title">Choose Your Learning Path</h2>

        <p class="section-subtitle">
          Structured courses designed for your success
        </p>

        <div class="paths-grid">
          <div class="path-card html-path">
            <div class="path-header">
              <span class="path-icon">üåê</span>

              <h3>HTML Mastery</h3>
            </div>

            <p class="path-description">
              Build the foundation with semantic HTML5, forms, media elements,
              and accessibility.
            </p>

            <div class="path-stats" id="htmlPathStats">
              <span>üìö <span id="htmlLessons">Loading...</span> Lessons</span>

              <span>‚è±Ô∏è <span id="htmlHours">Loading...</span> Hours</span>
            </div>

            <a href="learn.html#html" class="btn btn-primary">Start Learning</a>
          </div>

          <div class="path-card css-path">
            <div class="path-header">
              <span class="path-icon">üé®</span>

              <h3>CSS Styling</h3>
            </div>

            <p class="path-description">
              Master modern CSS with Flexbox, Grid, animations, and responsive
              design.
            </p>

            <div class="path-stats" id="cssPathStats">
              <span>üìö <span id="cssLessons">Loading...</span> Lessons</span>

              <span>‚è±Ô∏è <span id="cssHours">Loading...</span> Hours</span>
            </div>

            <a href="learn.html#css" class="btn btn-primary">Start Learning</a>
          </div>

          <div class="path-card js-path">
            <div class="path-header">
              <span class="path-icon">‚ö°</span>

              <h3>JavaScript Pro</h3>
            </div>

            <p class="path-description">
              From basics to advanced concepts including ES6+, async
              programming, and DOM.
            </p>

            <div class="path-stats" id="jsPathStats">
              <span>üìö <span id="jsLessons">Loading...</span> Lessons</span>

              <span>‚è±Ô∏è <span id="jsHours">Loading...</span> Hours</span>
            </div>

            <a href="learn.html#javascript" class="btn btn-primary"
              >Start Learning</a
            >
          </div>
        </div>
      </div>
    </section>

    <!-- Testimonials -->

    <section class="testimonials">
      <div class="container">
        <div class="section-header">
          <h2 class="section-title">What Our Students Say</h2>
          <p class="section-subtitle">
            Join thousands of learners who have transformed their coding skills
            with CodeQuest
          </p>
        </div>

        <div class="testimonials-grid">
          <div class="testimonial-card" data-aos="fade-up" data-aos-delay="100">
            <div class="quote-icon">üí¨</div>

            <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>

            <p class="testimonial-text">
              "CodeQuest made learning web development fun! The gamification
              kept me motivated throughout."
            </p>

            <div class="testimonial-author">
              <div class="avatar-placeholder">üë©‚Äçüíª</div>

              <div class="author-info">
                <h4 class="author-name">Sarah Chen</h4>

                <p class="author-title">Web Developer</p>
              </div>
            </div>
          </div>

          <div class="testimonial-card" data-aos="fade-up" data-aos-delay="200">
            <div class="quote-icon">üí¨</div>

            <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>

            <p class="testimonial-text">
              "The interactive challenges and real-time feedback helped me learn
              faster than any other platform."
            </p>

            <div class="testimonial-author">
              <div class="avatar-placeholder">üë®‚Äçüíª</div>

              <div class="author-info">
                <h4 class="author-name">Mike Johnson</h4>

                <p class="author-title">Full Stack Developer</p>
              </div>
            </div>
          </div>

          <div class="testimonial-card" data-aos="fade-up" data-aos-delay="300">
            <div class="quote-icon">üí¨</div>

            <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>

            <p class="testimonial-text">
              "From zero to hero in 3 months! The structured curriculum and
              games made all the difference."
            </p>

            <div class="testimonial-author">
              <div class="avatar-placeholder">üë®‚Äçüéì</div>

              <div class="author-info">
                <h4 class="author-name">Emily Rodriguez</h4>

                <p class="author-title">Full Stack Developer</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->

    <section class="cta-section">
      <div class="container">
        <h2>Ready to Start Your Coding Journey?</h2>

        <p>Join thousands of learners mastering web development the fun way!</p>

        <div class="cta-buttons">
          <button class="btn btn-primary btn-large" onclick="showSignup()">
            Get Started Free
          </button>

          <a href="learn.html" class="btn btn-secondary btn-large"
            >Browse Courses</a
          >
        </div>
      </div>
    </section>

    <!-- Footer -->

    <footer class="site-footer">
      <div class="footer-container">
        <div class="footer-grid">
          <!-- Brand Column -->
          <div class="footer-col footer-brand">
            <div class="footer-logo">
              <div class="logo-icon">‚ö°</div>
              <h3>CodeQuest</h3>
            </div>
            <p class="footer-description">
              Master web development through interactive coding challenges and
              projects. Build your portfolio while learning modern technologies.
            </p>
            <div class="social-links">
              <a href="#" class="social-link" aria-label="Twitter">
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M22 5.92405C21.2563 6.25005 20.4637 6.46672 19.6375 6.57088C20.4875 6.06255 21.1363 5.25755 21.4412 4.30005C20.6488 4.76255 19.7738 5.09338 18.8412 5.26672C18.0887 4.49088 17.0162 4 15.8462 4C13.5763 4 11.7487 5.80755 11.7487 8.04172C11.7487 8.36172 11.7762 8.67505 11.8438 8.97088C8.435 8.79755 5.41875 7.16672 3.3925 4.74755C3.03875 5.36172 2.83125 6.06255 2.83125 6.81422C2.83125 8.23088 3.5625 9.48922 4.6525 10.2309C3.99375 10.2309 3.3475 10.0542 2.8 9.78088V9.83088C2.8 11.7875 4.22125 13.4142 6.085 13.7975C5.75125 13.8875 5.39375 13.9334 5.02 13.9334C4.76375 13.9334 4.5075 13.9159 4.26625 13.8709C4.7775 15.4659 6.25875 16.6359 8.0225 16.6709C6.67 17.7459 4.8975 18.3734 2.98 18.3734C2.65 18.3734 2.3225 18.3559 2 18.3142C3.78625 19.4509 5.9175 20.1334 8.23 20.1334C15.835 20.1334 19.96 14 19.96 8.83255C19.96 8.66005 19.9538 8.48922 19.945 8.31838C20.7588 7.72255 21.4425 6.97755 22 6.13088L22 5.92405Z"
                    fill="currentColor"
                  />
                </svg>
              </a>
              <a href="#" class="social-link" aria-label="GitHub">
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M12 2C10.6868 2 9.38642 2.25866 8.17317 2.7612C6.95991 3.26375 5.85752 4.00035 4.92893 4.92893C3.05357 6.8043 2 9.34784 2 12C2 16.42 4.87 20.17 8.84 21.5C9.34 21.58 9.5 21.27 9.5 21V19.31C6.73 19.91 6.14 17.97 6.14 17.97C5.68 16.81 5.03 16.5 5.03 16.5C4.12 15.88 5.1 15.9 5.1 15.9C6.1 15.97 6.63 16.93 6.63 16.93C7.5 18.45 8.97 18 9.54 17.76C9.63 17.11 9.89 16.67 10.17 16.42C7.95 16.17 5.62 15.31 5.62 11.5C5.62 10.39 6 9.5 6.65 8.79C6.55 8.54 6.2 7.5 6.75 6.15C6.75 6.15 7.59 5.88 9.5 7.17C10.29 6.95 11.15 6.84 12 6.84C12.85 6.84 13.71 6.95 14.5 7.17C16.41 5.88 17.25 6.15 17.25 6.15C17.8 7.5 17.45 8.54 17.35 8.79C18 9.5 18.38 10.39 18.38 11.5C18.38 15.32 16.04 16.16 13.81 16.41C14.17 16.72 14.5 17.33 14.5 18.26V21C14.5 21.27 14.66 21.59 15.17 21.5C19.14 20.16 22 16.42 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7362 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2Z"
                    fill="currentColor"
                  />
                </svg>
              </a>
              <a href="#" class="social-link" aria-label="LinkedIn">
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M19 3C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19ZM18.5 18.5V13.2C18.5 12.3354 18.1565 11.5062 17.5452 10.8948C16.9338 10.2835 16.1046 9.94 15.24 9.94C14.39 9.94 13.4 10.46 12.92 11.24V10.13H10.13V18.5H12.92V13.57C12.92 12.8 13.54 12.17 14.31 12.17C14.6813 12.17 15.0374 12.3175 15.2999 12.5801C15.5625 12.8426 15.71 13.1987 15.71 13.57V18.5H18.5ZM6.88 8.56C7.32556 8.56 7.75288 8.383 8.06794 8.06794C8.383 7.75288 8.56 7.32556 8.56 6.88C8.56 5.95 7.81 5.19 6.88 5.19C6.43178 5.19 6.00193 5.36805 5.68499 5.68499C5.36805 6.00193 5.19 6.43178 5.19 6.88C5.19 7.81 5.95 8.56 6.88 8.56ZM8.27 18.5V10.13H5.5V18.5H8.27Z"
                    fill="currentColor"
                  />
                </svg>
              </a>
              <a href="#" class="social-link" aria-label="YouTube">
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M21.593 7.20301C21.393 6.47801 20.806 5.90501 20.063 5.71201C18.563 5.33501 12 5.33501 12 5.33501C12 5.33501 5.438 5.33501 3.938 5.71201C3.198 5.90501 2.608 6.47801 2.408 7.20301C2.017 8.64901 2.017 11.649 2.017 11.649C2.017 11.649 2.017 14.649 2.408 16.095C2.608 16.82 3.198 17.393 3.938 17.586C5.438 17.963 12 17.963 12 17.963C12 17.963 18.563 17.963 20.063 17.586C20.806 17.393 21.393 16.82 21.593 16.095C21.984 14.649 21.984 11.649 21.984 11.649C21.984 11.649 21.984 8.64901 21.593 7.20301ZM9.956 14.328V8.97001L15.514 11.649L9.956 14.328Z"
                    fill="currentColor"
                  />
                </svg>
              </a>
            </div>
          </div>

          <!-- Learning Paths Column -->
          <div class="footer-col">
            <h4>Learning Paths</h4>
            <ul class="footer-links">
              <li><a href="#">Web Development</a></li>
              <li><a href="#">JavaScript Mastery</a></li>
              <li><a href="#">React & Frontend</a></li>
              <li><a href="#">Node.js & Backend</a></li>
              <li><a href="#">Data Structures</a></li>
            </ul>
          </div>

          <!-- Resources Column -->
          <div class="footer-col">
            <h4>Resources</h4>
            <ul class="footer-links">
              <li><a href="#">Documentation</a></li>
              <li><a href="#">Tutorials</a></li>
              <li><a href="#">Community</a></li>
              <li><a href="#">Code Challenges</a></li>
              <li><a href="#">Blog</a></li>
            </ul>
          </div>

          <!-- Company Column -->
          <div class="footer-col">
            <h4>Company</h4>
            <ul class="footer-links">
              <li><a href="#">About Us</a></li>
              <li><a href="#">Careers</a></li>
              <li><a href="#">Contact</a></li>
              <li><a href="#">Privacy Policy</a></li>
              <li><a href="#">Terms of Service</a></li>
            </ul>
          </div>
        </div>

        <!-- Footer Bottom -->
        <div class="footer-bottom">
          <div class="footer-bottom-content">
            <p>&copy; 2023 CodeQuest. All rights reserved.</p>
            <div class="footer-bottom-links">
              <a href="#">Privacy</a>
              <span class="separator">|</span>
              <a href="#">Terms</a>
              <span class="separator">|</span>
              <a href="#">Cookies</a>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- Enhanced Login Modal -->
    <div id="loginModal" class="modal">
      <div class="modal-content">
        <button
          class="close"
          onclick="closeModal('loginModal')"
          aria-label="Close"
        >
          &times;
        </button>

        <div class="modal-header">
          <h2 class="modal-title">Welcome Back</h2>
          <p class="modal-subtitle">Sign in to continue your coding journey</p>
        </div>

        <div class="modal-body">
          <form id="loginForm" class="auth-form">
            <div class="form-group">
              <label for="loginEmail">Email Address</label>
              <div class="input-wrapper">
                <input
                  type="email"
                  id="loginEmail"
                  placeholder="Enter your email"
                  required
                  autocomplete="email"
                />
                <span class="input-icon">üìß</span>
              </div>
            </div>

            <div class="form-group">
              <label for="loginPassword">Password</label>
              <div class="input-wrapper">
                <input
                  type="password"
                  id="loginPassword"
                  placeholder="Enter your password"
                  required
                  autocomplete="current-password"
                />
                <span class="input-icon">üîí</span>
              </div>
            </div>

            <button type="submit" class="btn btn-primary btn-block">
              Sign In
            </button>
          </form>

          <div class="social-login">
            <div class="divider">
              <span>or continue with</span>
            </div>
            <button class="btn-google" onclick="googleLogin()">
              <div class="google-icon">G</div>
              Continue with Google
            </button>
          </div>

          <div class="modal-footer">
            Don't have an account?
            <a href="#" onclick="switchToSignup()">Create one here</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Enhanced Signup Modal -->
    <div id="signupModal" class="modal">
      <div class="modal-content">
        <button
          class="close"
          onclick="closeModal('signupModal')"
          aria-label="Close"
        >
          &times;
        </button>

        <div class="modal-header">
          <h2 class="modal-title">Join CodeQuest</h2>
          <p class="modal-subtitle">
            Start your web development adventure today
          </p>
        </div>

        <div class="modal-body">
          <form id="signupForm" class="auth-form">
            <div class="form-group">
              <label for="signupName">Full Name</label>
              <div class="input-wrapper">
                <input
                  type="text"
                  id="signupName"
                  placeholder="Enter your full name"
                  required
                  autocomplete="name"
                />
                <span class="input-icon">üë§</span>
              </div>
            </div>

            <div class="form-group">
              <label for="signupEmail">Email Address</label>
              <div class="input-wrapper">
                <input
                  type="email"
                  id="signupEmail"
                  placeholder="Enter your email"
                  required
                  autocomplete="email"
                />
                <span class="input-icon">üìß</span>
              </div>
            </div>

            <div class="form-group">
              <label for="signupPassword">Password</label>
              <div class="input-wrapper">
                <input
                  type="password"
                  id="signupPassword"
                  placeholder="Create a strong password"
                  required
                  autocomplete="new-password"
                />
                <span class="input-icon">üîí</span>
              </div>
              <div class="password-strength">
                <div
                  class="password-strength-bar"
                  id="passwordStrengthBar"
                ></div>
              </div>
            </div>

            <button type="submit" class="btn btn-primary btn-block">
              Create Account
            </button>
          </form>

          <div class="social-login">
            <div class="divider">
              <span>or sign up with</span>
            </div>
            <button class="btn-google" onclick="googleSignup()">
              <div class="google-icon">G</div>
              Sign up with Google
            </button>
          </div>

          <div class="modal-footer">
            Already have an account?
            <a href="#" onclick="switchToLogin()">Sign in here</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -->

    <script src="auth.js"></script>
    <script src="ai-assistant.js"></script>
    <script src="main.js"></script>

    <script>
      // Simple NaN Prevention - Only runs once and doesn't interfere with itself
      (function () {
        let hasRun = false;

        function preventNaN() {
          if (hasRun) return;
          hasRun = true;

          // Simple text replacement for any visible NaN text
          const replaceNaNInText = () => {
            const textNodes = document.querySelectorAll("*");
            textNodes.forEach((element) => {
              if (
                element.children.length === 0 &&
                element.textContent &&
                element.textContent.includes("NaN")
              ) {
                // Only replace if it's not in a script tag
                if (
                  element.tagName !== "SCRIPT" &&
                  element.tagName !== "STYLE"
                ) {
                  element.textContent = element.textContent.replace(/NaN/g, "");
                }
              }
            });
          };

          // Run once after page loads
          setTimeout(replaceNaNInText, 500);

          // Also run when DOM changes
          const observer = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
              if (mutation.type === "childList") {
                mutation.addedNodes.forEach((node) => {
                  if (
                    node.nodeType === Node.TEXT_NODE &&
                    node.textContent &&
                    node.textContent.includes("NaN") &&
                    node.parentElement &&
                    node.parentElement.tagName !== "SCRIPT" &&
                    node.parentElement.tagName !== "STYLE"
                  ) {
                    node.textContent = node.textContent.replace(/NaN/g, "");
                  }
                });
              }
            });
          });

          observer.observe(document.body, { childList: true, subtree: true });
        }

        // Run when page is ready
        if (document.readyState === "loading") {
          document.addEventListener("DOMContentLoaded", preventNaN);
        } else {
          preventNaN();
        }
      })();
    </script>
  </body>
</html>
